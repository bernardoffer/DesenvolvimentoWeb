{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\3AM-IT\\\\Documents\\\\Faculdade\\\\Desenvolvimento web 2\\\\my-app\\\\src\\\\pages\\\\Cadastro.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { auth, db } from '../firebaseConfig';\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { setDoc, doc } from 'firebase/firestore';\nimport { useNavigate } from 'react-router-dom'; // Importando o useNavigate\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cadastro = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [senha, setSenha] = useState('');\n  const [nome, setNome] = useState('');\n  const [sobrenome, setSobrenome] = useState('');\n  const [dataNascimento, setDataNascimento] = useState('');\n  const navigate = useNavigate(); // Definindo o useNavigate\n\n  const handleCadastro = async () => {\n    // Validação básica\n    if (!email || !senha || !nome || !sobrenome || !dataNascimento) {\n      alert('Por favor, preencha todos os campos.');\n      return;\n    }\n    if (senha.length < 6) {\n      alert('A senha deve ter pelo menos 6 caracteres.');\n      return;\n    }\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, senha);\n      const user = userCredential.user;\n      await setDoc(doc(db, 'users', user.uid), {\n        nome,\n        sobrenome,\n        dataNascimento,\n        uid: user.uid\n      });\n      alert('Usuário cadastrado com sucesso!');\n      navigate('/'); // Navega para a tela de login após o cadastro bem-sucedido\n    } catch (error) {\n      if (error.code) {\n        console.error('Erro ao cadastrar usuário:', error.code, error.message);\n        alert(`Erro ao cadastrar usuário: ${error.message}`);\n      } else {\n        console.error('Erro desconhecido:', error);\n        alert('Erro desconhecido. Tente novamente mais tarde.');\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Cadastro\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      placeholder: \"E-mail\",\n      value: email,\n      onChange: e => setEmail(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"Senha\",\n      value: senha,\n      onChange: e => setSenha(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Nome\",\n      value: nome,\n      onChange: e => setNome(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Sobrenome\",\n      value: sobrenome,\n      onChange: e => setSobrenome(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      value: dataNascimento,\n      onChange: e => setDataNascimento(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleCadastro,\n      children: \"Cadastrar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate('/'),\n      children: \"Voltar ao Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(Cadastro, \"vLS2Bx+9Jv33fPq+cu7/HBAi8zY=\", false, function () {\n  return [useNavigate];\n});\n_c = Cadastro;\nexport default Cadastro;\nvar _c;\n$RefreshReg$(_c, \"Cadastro\");","map":{"version":3,"names":["React","useState","auth","db","createUserWithEmailAndPassword","setDoc","doc","useNavigate","jsxDEV","_jsxDEV","Cadastro","_s","email","setEmail","senha","setSenha","nome","setNome","sobrenome","setSobrenome","dataNascimento","setDataNascimento","navigate","handleCadastro","alert","length","userCredential","user","uid","error","code","console","message","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/3AM-IT/Documents/Faculdade/Desenvolvimento web 2/my-app/src/pages/Cadastro.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { auth, db } from '../firebaseConfig';\r\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\r\nimport { setDoc, doc } from 'firebase/firestore';\r\nimport { useNavigate } from 'react-router-dom'; // Importando o useNavigate\r\n\r\nconst Cadastro = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [senha, setSenha] = useState('');\r\n  const [nome, setNome] = useState('');\r\n  const [sobrenome, setSobrenome] = useState('');\r\n  const [dataNascimento, setDataNascimento] = useState('');\r\n  const navigate = useNavigate(); // Definindo o useNavigate\r\n\r\n  const handleCadastro = async () => {\r\n    // Validação básica\r\n    if (!email || !senha || !nome || !sobrenome || !dataNascimento) {\r\n      alert('Por favor, preencha todos os campos.');\r\n      return;\r\n    }\r\n\r\n    if (senha.length < 6) {\r\n      alert('A senha deve ter pelo menos 6 caracteres.');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const userCredential = await createUserWithEmailAndPassword(auth, email, senha);\r\n      const user = userCredential.user;\r\n      \r\n      await setDoc(doc(db, 'users', user.uid), {\r\n        nome,\r\n        sobrenome,\r\n        dataNascimento,\r\n        uid: user.uid,\r\n      });\r\n      \r\n      alert('Usuário cadastrado com sucesso!');\r\n      navigate('/'); // Navega para a tela de login após o cadastro bem-sucedido\r\n    } catch (error) {\r\n      if (error.code) {\r\n        console.error('Erro ao cadastrar usuário:', error.code, error.message);\r\n        alert(`Erro ao cadastrar usuário: ${error.message}`);\r\n      } else {\r\n        console.error('Erro desconhecido:', error);\r\n        alert('Erro desconhecido. Tente novamente mais tarde.');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Cadastro</h2>\r\n      <input \r\n        type=\"email\" \r\n        placeholder=\"E-mail\" \r\n        value={email} \r\n        onChange={(e) => setEmail(e.target.value)} \r\n      />\r\n      <input \r\n        type=\"password\" \r\n        placeholder=\"Senha\" \r\n        value={senha} \r\n        onChange={(e) => setSenha(e.target.value)} \r\n      />\r\n      <input \r\n        type=\"text\" \r\n        placeholder=\"Nome\" \r\n        value={nome} \r\n        onChange={(e) => setNome(e.target.value)} \r\n      />\r\n      <input \r\n        type=\"text\" \r\n        placeholder=\"Sobrenome\" \r\n        value={sobrenome} \r\n        onChange={(e) => setSobrenome(e.target.value)} \r\n      />\r\n      <input \r\n        type=\"date\" \r\n        value={dataNascimento} \r\n        onChange={(e) => setDataNascimento(e.target.value)} \r\n      />\r\n      <button onClick={handleCadastro}>Cadastrar</button>\r\n      {/* Botão para voltar para a tela de login */}\r\n      <button onClick={() => navigate('/')}>Voltar ao Login</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cadastro;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}