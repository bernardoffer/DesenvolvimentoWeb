{"ast":null,"code":"import React,{useEffect,useState}from'react';import{auth,db}from'../firebaseConfig';import{doc,getDoc}from'firebase/firestore';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Principal=()=>{const[userData,setUserData]=useState(null);const[noticias,setNoticias]=useState([]);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const fetchUserData=async()=>{const user=auth.currentUser;if(user){const docRef=doc(db,'users',user.uid);const docSnap=await getDoc(docRef);if(docSnap.exists()){setUserData(docSnap.data());}else{console.log('Usuário não encontrado no Firestore.');}}else{console.log('Nenhum usuário autenticado.');}setLoading(false);};// Simulando busca de notícias\nconst fetchNoticias=async()=>{const noticiasFicticias=[{id:1,titulo:\"Notícia 1\",conteudo:\"Conteúdo da notícia 1.\"},{id:2,titulo:\"Notícia 2\",conteudo:\"Conteúdo da notícia 2.\"},{id:3,titulo:\"Notícia 3\",conteudo:\"Conteúdo da notícia 3.\"}];setNoticias(noticiasFicticias);};fetchUserData();fetchNoticias();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Carregando...\"});}if(!userData){return/*#__PURE__*/_jsx(\"div\",{children:\"Usu\\xE1rio n\\xE3o encontrado. Fa\\xE7a login novamente.\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Bem-vindo, \",userData.nome,\" \",userData.sobrenome]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Data de Nascimento: \",userData.dataNascimento]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Feed de Not\\xEDcias\"}),/*#__PURE__*/_jsx(\"div\",{children:noticias.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Nenhuma not\\xEDcia dispon\\xEDvel.\"}):noticias.map(noticia=>/*#__PURE__*/_jsxs(\"div\",{style:styles.noticia,children:[/*#__PURE__*/_jsx(\"h4\",{children:noticia.titulo}),/*#__PURE__*/_jsx(\"p\",{children:noticia.conteudo})]},noticia.id))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),children:\"Voltar ao Login\"}),\" \"]});};// Estilos para as notícias\nconst styles={noticia:{border:'1px solid #ddd',borderRadius:'5px',padding:'10px',margin:'10px 0',boxShadow:'0 2px 5px rgba(0,0,0,0.1)'}};export default Principal;","map":{"version":3,"names":["React","useEffect","useState","auth","db","doc","getDoc","useNavigate","jsx","_jsx","jsxs","_jsxs","Principal","userData","setUserData","noticias","setNoticias","loading","setLoading","navigate","fetchUserData","user","currentUser","docRef","uid","docSnap","exists","data","console","log","fetchNoticias","noticiasFicticias","id","titulo","conteudo","children","nome","sobrenome","dataNascimento","length","map","noticia","style","styles","onClick","border","borderRadius","padding","margin","boxShadow"],"sources":["C:/Users/3AM-IT/Documents/Faculdade/Desenvolvimento web 2/my-app/src/pages/Principal.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { auth, db } from '../firebaseConfig';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Principal = () => {\r\n  const [userData, setUserData] = useState(null);\r\n  const [noticias, setNoticias] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      const user = auth.currentUser;\r\n\r\n      if (user) {\r\n        const docRef = doc(db, 'users', user.uid);\r\n        const docSnap = await getDoc(docRef);\r\n\r\n        if (docSnap.exists()) {\r\n          setUserData(docSnap.data());\r\n        } else {\r\n          console.log('Usuário não encontrado no Firestore.');\r\n        }\r\n      } else {\r\n        console.log('Nenhum usuário autenticado.');\r\n      }\r\n      setLoading(false);\r\n    };\r\n\r\n    // Simulando busca de notícias\r\n    const fetchNoticias = async () => {\r\n      const noticiasFicticias = [\r\n        { id: 1, titulo: \"Notícia 1\", conteudo: \"Conteúdo da notícia 1.\" },\r\n        { id: 2, titulo: \"Notícia 2\", conteudo: \"Conteúdo da notícia 2.\" },\r\n        { id: 3, titulo: \"Notícia 3\", conteudo: \"Conteúdo da notícia 3.\" },\r\n      ];\r\n      setNoticias(noticiasFicticias);\r\n    };\r\n\r\n    fetchUserData();\r\n    fetchNoticias();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <div>Carregando...</div>;\r\n  }\r\n\r\n  if (!userData) {\r\n    return <div>Usuário não encontrado. Faça login novamente.</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Bem-vindo, {userData.nome} {userData.sobrenome}</h2>\r\n      <p>Data de Nascimento: {userData.dataNascimento}</p>\r\n\r\n      <h3>Feed de Notícias</h3>\r\n      <div>\r\n        {noticias.length === 0 ? (\r\n          <p>Nenhuma notícia disponível.</p>\r\n        ) : (\r\n          noticias.map(noticia => (\r\n            <div key={noticia.id} style={styles.noticia}>\r\n              <h4>{noticia.titulo}</h4>\r\n              <p>{noticia.conteudo}</p>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      <button onClick={() => navigate('/')}>Voltar ao Login</button> {/* Botão para voltar ao login */}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Estilos para as notícias\r\nconst styles = {\r\n  noticia: {\r\n    border: '1px solid #ddd',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    margin: '10px 0',\r\n    boxShadow: '0 2px 5px rgba(0,0,0,0.1)',\r\n  },\r\n};\r\n\r\nexport default Principal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}